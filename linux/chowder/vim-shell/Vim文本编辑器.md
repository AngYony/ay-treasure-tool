# Vim文本编辑器

Vim编辑器的三种模式：

- 命令模式：控制光标移动，可对文本进行复制、粘贴、删除和查找工作。
- 输入模式：正常的文本录入。
- 末行模式保存或退出文档，以及设置编辑环境。

三种模式之间的相互切换：

- 切换到命令模式：按下ESC键可以由任何其他模式切换到命令模式。使用Vim打开文件时，默认进入命令模式。
- 切换到输入模式：先切换到命令模式，在命令模式下，按下a、i、o等键中的任意一个，由命令模式切换到输入模式。
  - a：在光标后面一位切换到输入模式。
  - i：在光标当前位置切换到输入模式。
  - o：在光标的下面再创建一个空行，并切换到输入模式。
- 切换到末行模式：先切换到命令模式，在命令模式下，按下:键，由命令模式切换到末行模式。

注意：输入模式和末行模式之间，不能直接切换，必须先切换到命令模式，再从命令模式切换到对应的模式。

当使用vim命令打开一个文件时，如果文件不存在，则会创建一个临时的输入文件。



## 命令模式下的常用命令

| 命令    | 作用                                                         |
| ------- | ------------------------------------------------------------ |
| dd      | 删除（剪切）光标所在整行                                     |
| 数字+dd | 删除（剪切）从光标处开始的n行，例如5dd，表示剪切从光标处开始的5行。 |
| yy      | 复制光标所在整行                                             |
| 数字+yy | 复制从光标处开始的n行，例如5yy，表示复制从光标处开始的5行。  |
| n       | 显示搜索命令定位到的下一个字符串                             |
| N       | 显示搜索命令定位到的上一个字符串                             |
| u       | 撤销上一步的操作                                             |
| p       | 将之前剪切（dd）或复制（yy）过的数据粘贴到光标的后面         |
| a、i、o | 由命令模式切换到输入模式                                     |
| :       | 由命令模式切换到末行模式                                     |



## 末行模式下的常用命令

| 命令          | 作用                                 |
| ------------- | ------------------------------------ |
| :w            | 保存                                 |
| :q            | 退出                                 |
| :q!           | 强制退出（放弃对文档的修改内容）     |
| :wq!          | 强制保存退出                         |
| :set nu       | 显示行号                             |
| :set nonu     | 不显示行号                           |
| :命令         | 执行该命令                           |
| :整数         | 跳转到该行                           |
| :s/one/two    | 将当前光标所在行的第一个one替换成two |
| :s/one/two/g  | 将当前光标所在行的所有one替换成two   |
| :%s/one/two/g | 将全文中的所有one替换成two           |
| ?字符串       | 在文本中从下至上搜索该字符串         |
| /字符串       | 在文本中从上至下搜索该字符串         |
| ESC           | 由末行模式切换到命令模式             |

