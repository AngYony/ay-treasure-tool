# 面试问题汇总



### Mysql 事务隔离

参考链接：

- [03 | 事务隔离：为什么你改了我还看不见？ (geekbang.org)](https://time.geekbang.org/column/article/68963)
- [15丨初识事务隔离：隔离的级别有哪些，它们都解决了哪些异常问题？ (geekbang.org)](https://time.geekbang.org/column/article/107401)
- [第36讲 | 谈谈MySQL支持的事务隔离级别，以及悲观锁和乐观锁的原理和应用场景？ (geekbang.org)](https://time.geekbang.org/column/article/12288)

![img](assets/aa2ae6682a571676b686509623a2a7fb.jpg)



### 简述一下BIO/NIO/AIO之间的概念与区别

阻塞与非阻塞：是相对于服务端来说的；

同步与异步：是相对于客户端来说的；同步是客户端自己去等待响应，异步是服务端有响应后，通知客户端再去处理；

#### 同步阻塞（BIO）

 客户端发送请求给服务端，此时服务端处理任务时间很久，则**客户端则被服务端堵塞了，所以客户端会一直等待服务端的响应，此时客户端不能做其他任何事，服务端也不会接受其他客户端的请求**。这种通信机制比较简单粗暴，但是效率不高。

【客户端不做任何事，一直等待服务端，服务端也不接受其他客户端请求】

#### 同步非阻塞（NIO）

 客户端发送请求给服务端，此时服务端处理任务时间很久，这个时候**虽然客户端会一直等待响应，但是服务端可以处理其他的请求，过一会回来处理原先的**。这种方式很高效，一个服务端可以处理很多请求，不会在因为任务没有处理完而堵着，所以这是非阻塞的。

【客户端不做任何事，一直等待服务端，服务端仍然接受其他客户端请求】

#### 异步阻塞

 客户端发送请求给服务端，此时**服务端处理任务时间很久，但是客户端不会等待服务器响应，它可以做其他的任务**，等服务器处理完毕后再把结果响应给客户端，客户端得到回调后再处理服务端的响应。这种方式可以避免客户端一直处于等待的状态，优化了用户体验，其实就是类似于网页里发起的ajax异步请求。

【服务端长时间处理当前任务，不去处理其他任务；客户端不用等服务器响应，可以做其他任务，等到服务端将结果通知客户端，客户端得到回调后再处理响应】

#### 异步非阻塞（AIO）

 客户端发送请求给服务端，此时服务端处理任务时间很久，这个时候的任务虽然处理时间会很久，但是客户端可以做其他的任务，因为他是异步的，可以在回调函数里处理响应；同时服务端是非阻塞的，所以服务端可以去处理其他的任务，如此，这个模式就显得非常的高效了。

【服务端虽然需要长时间处理，但仍然可以去处理其他任务；客户端也不用等待服务器响应，也可以做其他任务】



### hash算法和hash一致性算法

[2-24 一致性hash算法-慕课网体系课 (imooc.com)](https://class.imooc.com/lesson/1227#mid=28710)

hash一致性算法的原理：就近原则。

![image-20211025175052284](assets/image-20211025175052284.png)

新增加一个节点，或移除一个节点，能够保证其他节点不受影响。

举例：学区房

![image-20211025175119189](assets/image-20211025175119189.png)